<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首頁</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="overlay" id="overlay">
        <div class="popup">
            <h2>歡迎來到 Title</h2>
            <p>請幫助我們認識你，以便提供合適的網站內容。</p>
            <div class="buttons">
                <button id="beginner" onclick="sendUserRole('beginner')">
                    投資新手<br>(投資經驗在5年以內)</button>
                <button id="intermediate" onclick="sendUserRole('intermediate')">
                    投資老手<br>(投資經驗在5年至15年)</button>
                <button id="advanced" onclick="sendUserRole('advanced')">
                    投資高手<br>(投資經驗在15年以上)</button>
            </div>
        </div>
    </div>

    <header>
        <h1>我是標題</h1>
        <nav>
            <a href="{{ url_for('market') }}">市場分析報告</a>
            <a href="{{ url_for('investment') }}">投資分析報告</a>
        </nav>
    </header>
    <main>
        <section class="news">
            <h2>今日新聞</h2>
            <div class="news-items">
                <div class="news-item-light">新聞標題</div>
                <div class="news-item-dark">新聞標題</div>
                <div class="news-item-light">新聞標題</div>
                <div class="news-item-dark">新聞標題</div>
                <div class="news-item-light">新聞標題</div>
            </div>
        </section>
        <section class="summary">
            <h2>多方觀點摘要</h2>
            <div class="summary-items">
                <div class="summary-item">宏觀經濟</div>
                <div class="summary-item">行業</div>
                <div class="summary-item">金融市場</div>
                <div class="summary-item">投資策略</div>
            </div>
        </section>
        <section class="stock-market">
            <h2>今日股市</h2>
            <div class="stock-market-items">
                <div class="stock-market-item"> </div>
                <div class="stock-market-item"> </div>
                <div class="stock-market-item"> </div>
                <div class="stock-market-item"> </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="footer-title">資料來源</div>
        <div class="footer-items">
            <div class="footer-item">
                <a class="main-link" href="https://www.cnyes.com/" target="_blank">鉅亨網</a>
                <ul>
                    <li><a href="https://www.cnyes.com/news/" target="_blank">鉅亨網新聞</a></li>
                </ul>
            </div>
            <div class="footer-item">
                <a class="main-link" href="#" target="_blank">其他資料來源</a>
                <ul>
                    <li><a href="#">資料連結</a></li>
                    <li><a href="#">資料連結</a></li>
                </ul>
            </div>
            <div class="footer-item">
                <a class="main-link" href="#" target="_blank">其他資料來源</a>
                <ul>
                    <li><a href="#">資料連結</a></li>
                    <li><a href="#">資料連結</a></li>
                </ul>
            </div>
            <div class="footer-item">
                <a class="main-link" href="#" target="_blank">其他資料來源</a>
                <ul>
                    <li><a href="#">資料連結</a></li>
                    <li><a href="#">資料連結</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // 如果 sessionStorage 中没有 "popupShown" 项，则显示弹出窗口
            if (!sessionStorage.getItem("popupShown")) {
                document.getElementById("overlay").style.display = "flex";
                // 设置标记，以便在同一会话中不再显示弹出窗口
                sessionStorage.setItem("popupShown", "true");
            } else {
                document.getElementById("overlay").style.display = "none";
            }
        });
    
        function sendUserRole(role) {
        fetch('/set_role', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ role: role })
        })
        .then(response => response.json())
        .then(data => {
            console.log('Response:', data);
            // 根据返回的数据做其他操作
            // 关闭弹出窗口
            closePopup();
        })
        .catch(error => console.error('Error:', error));
    }

        function closePopup() {
            document.getElementById("overlay").style.display = "none";
        }
    </script>
    
</body>
</html>
